<nav class="col-md-2 d-none d-md-block bg-light sidebar">
  <div class="sidebar-sticky">
    <ul class="nav flex-column">
      <% if user_signed_in? %>
        <% if current_user.has_roles?(:root_admin) %>
          <li class="nav-item">
            <%= link_to "用户管理", admins_path, class: "nav-link #{ ((controller_name=='admins')&&(action_name=='index')) ? 'active' : '' }" %>
          </li>
          <li class="nav-item">
            <%= link_to "客户联系", clients_path, class: "nav-link #{ (controller_name == 'clients') ? 'active' : '' }" %>
          </li>
          <li class="nav-item">
            <%= link_to "新增用户", new_admin_path, class: "nav-link #{ ((controller_name=='admins')&&(action_name=='new')) ? 'active' : '' }" %>
          </li>
        <% else %>
          <% if current_user.has_roles?(:basic) %>
            <li class="nav-item">
              <%= link_to "基本信息", basic_path, class: "nav-link #{ (controller_name == 'basics') ? 'active' : '' } " %>
            </li>
          <% end -%>
          <% if current_user.has_roles?(:wedding_basic) %>
            <li class="nav-item">
              <%= link_to "基本信息", wedding_basic_path, class: "nav-link #{ (controller_name == 'wedding_basics') ? 'active' : '' } " %>
            </li>
          <% end -%>
          <% if current_user.has_roles?(:workshop_basic) %>
            <li class="nav-item">
              <%= link_to "基本信息", workshop_basic_path, class: "nav-link #{ (controller_name == 'workshop_basics') ? 'active' : '' } " %>
            </li>
          <% end -%>
          <% if current_user.has_roles?(:merchant_basic) %>
            <li class="nav-item">
              <%= link_to "商户信息", merchant_basic_path, class: "nav-link #{ (/merchant_basic/ =~ controller_name ) ? 'active' : '' } " %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:location) %>
            <li class="nav-item">
              <%= link_to "地址设置", location_path, class: "nav-link #{ (controller_name == 'locations') ? 'active' : '' }" %>
            </li>
          <% end -%>
          <% if current_user.has_roles?(:comment) %>
            <li class="nav-item">
              <%= link_to "评论管理", comments_path, class: "nav-link #{ (controller_name == 'comments') ? 'active' : '' }" %>
            </li>
          <% end -%>
          <% if current_user.has_roles?(:banner) %>
            <li class="nav-item">
              <%= link_to "轮播分类", banners_path, class: "nav-link #{ ((controller_name == 'banners')||(controller_name == 'banner_items')) ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:carousel) %>
            <li class="nav-item">
              <%= link_to "轮播图", carousels_path, class: "nav-link #{ (controller_name == 'carousels') ? 'active' : '' }" %>
            </li>
          <% end -%>
          <% if current_user.has_roles?(:independent_carousel) %>
            <li class="nav-item">
              <%= link_to "轮播照片", independent_carousels_path, class: "nav-link #{ (controller_name == 'independent_carousels') ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:merchant_image) %>
            <li class="nav-item">
              <%= link_to "商户照片", merchant_images_path, class: "nav-link #{ (controller_name == 'merchant_images') ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:product) %>
            <li class="nav-item">
              <%= link_to "商品分类", sorts_path, class: "nav-link #{ ((controller_name == 'sorts')||(controller_name == 'product_sorts')) ? 'active' : '' }" %>
            </li>
            <li class="nav-item">
              <%= link_to "商品管理", products_path, class: "nav-link #{ ((controller_name == 'products')||(controller_name == 'product_images')||(controller_name == 'product_details')) ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:product_home) %>
            <li class="nav-item">
              <%= link_to "首页商品", product_homes_path, class: "nav-link #{ (controller_name == 'product_homes') ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:product_group) %>
            <li class="nav-item">
              <%= link_to "团购商品", product_groups_path, class: "nav-link #{ (controller_name == 'product_groups') ? 'active' : '' }" %>
            </li>
          <% end -%>
          <% if current_user.has_roles?(:product_bargain) %>
            <li class="nav-item">
              <%= link_to "砍价商品", product_bargains_path, class: "nav-link #{ (controller_name == 'product_bargains') ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:theme) %>
            <li class="nav-item">
              <%= link_to "主题商品", themes_path, class: "nav-link #{ (controller_name == 'themes') ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:affair) %>
            <li class="nav-item">
              <%= link_to "最新动态", affairs_path, class: "nav-link #{ (/affair/ =~ controller_name) ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:recent) %>
            <li class="nav-item">
              <%= link_to "最新活动", recents_path, class: "nav-link #{ (controller_name == 'recents') ? 'active' : '' }" %>
            </li>
          <% end -%>
          <% if current_user.has_roles?(:home_photograph_category) %>
            <li class="nav-item">
              <%= link_to "首页分类", home_photograph_categories_path, class: "nav-link #{ (controller_name == 'home_photograph_categories') ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:home_photograph) %>
            <li class="nav-item">
              <%= link_to "首页摄影", home_photographs_path, class: "nav-link #{ (controller_name == 'home_photographs') ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:tap_carousel) %>
            <li class="nav-item">
              <%= link_to "轮播分类", tap_carousels_path, class: "nav-link #{ (controller_name == 'tap_carousels') ? 'active' : '' }" %>
            </li>
          <% end -%>
          <% if current_user.has_roles?(:tap_photograph) %>
            <li class="nav-item">
              <%= link_to "摄影照片", tap_photographs_path, class: "nav-link #{ (/tap_photograph/ =~ controller_name) ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:state) %>
            <li class="nav-item">
              <%= link_to "摄影说明", states_path, class: "nav-link #{ (controller_name == 'states') ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:movie) %>
            <li class="nav-item">
              <%= link_to "视频上传", movies_path, class: "nav-link #{ (controller_name == 'movies') ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:top) %>
            <li class="nav-item">
              <%= link_to "头部图片", tops_path, class: "nav-link #{ (controller_name == 'tops') ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:photograph) %>
            <li class="nav-item">
              <%= link_to "摄影分类", photographs_path, class: "nav-link #{ (controller_name == 'photographs') ? 'active' : '' }" %>
            </li>
          <% end -%>
          <% if current_user.has_roles?(:menu) %>
            <li class="nav-item">
              <%= link_to "价目表", menus_path, class: "nav-link #{ ( /menu/ =~ controller_name ) ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:official_account) %>
            <li class="nav-item">
              <%= link_to "公众号", official_accounts_path, class: "nav-link #{ (controller_name == 'official_accounts') ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:consult) %>
            <li class="nav-item">
              <%= link_to "咨询", consults_path, class: "nav-link #{ (controller_name == 'consults') ? 'active' : '' }" %>
            </li>
          <% end -%>
          <% if current_user.has_roles?(:contact) %>
            <li class="nav-item">
              <%= link_to "客户联系", contacts_path, class: "nav-link #{ (controller_name == 'contacts') ? 'active' : '' }" %>
            </li>
          <% end -%> 
          <% if current_user.has_roles?(:appointment) %>
            <li class="nav-item">
              <%= link_to "预约", appointments_path, class: "nav-link #{ (controller_name == 'appointments') ? 'active' : '' }" %>
            </li>
          <% end -%>
        <% end -%>
        <% if current_user.has_roles?(:hot_word) %>
            <li class="nav-item">
              <%= link_to "热词设置", hot_words_path, class: "nav-link #{ (controller_name == 'hot_words') ? 'active' : '' }" %>
            </li>
        <% end -%> 
        <% if current_user.has_roles?(:guest) %>
            <li class="nav-item">
              <%= link_to "客户管理", guests_path, class: "nav-link #{ ((controller_name == 'guests')||(controller_name == 'guest_comments')) ? 'active' : '' }" %>
            </li>
        <% end -%> 
        <li class="nav-item">
          <%= link_to "修改密码", edit_user_registration_path, class: "nav-link #{ ((controller_name == 'registrations')&&(action_name=="edit")) ? 'active' : '' }" %>
        </li>
        <li class="nav-item">
          <%= link_to "微信设置", weixin_basic_path, class: "nav-link #{ ((controller_name == 'weixin_basics')) ? 'active' : '' }" %>
        </li>
      <% else %>
        <%= link_to "登录", new_user_session_path, class: "nav-link" %>
      <% end -%>
    </ul>
  </div>
</nav>
