<% @tops.each_with_index do |top, index| %>
  <div class="d-flex justify-content-between">
    <div>
      <%= params[:page] ? (index + 1 + (params[:page].to_i-1)*10) : (index+1) %>.
      <%= top.name %>
      <% if top == @top %>
        <span class="badge badge-danger">显示图片</span>
      <% end -%>
      <% if top.reveal? %>
        <span class="badge badge-primary">已发布</span>
      <% else %>
        <span class="badge badge-danger">未发布</span>
      <% end -%>
    </div>
    <div>
      <% if top != @top %>
        <%= link_to '设为显示图片', set_weight_top_path(top), class: "badge badge-primary"%>
      <% end -%>
      <%= link_to '查看', top_path(top), class: "badge badge-primary"%>
      <%= link_to '编辑', edit_top_path(top), class: "badge badge-primary"%>
      <%= link_to '删除', delete_top_path(top), remote: true, class: "badge badge-primary" %>
    </div>
  </div>
<% end %>
<div class="d-flex justify-content-between mt-2">
  <div><%= link_to '新建', new_top_path, class: "btn btn-primary btn-sm" %></div>
  <div><%= paginate @tops %></div>
</div>
<%= render 'shared/confirm_modal' %>
